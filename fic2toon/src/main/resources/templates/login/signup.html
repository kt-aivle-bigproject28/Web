<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiction2Toon - SignUp</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
        }
        header {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 20px;
            background-color: #f4f4f4;
            border-bottom: 1px solid #ddd;
        }
        header .logo {
            font-size: 24px;
            font-weight: bold;
            color: #002855;
        }
        main {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* ë‚´ìš©ì´ ìƒë‹¨ë¶€í„° ì •ë ¬ë˜ë„ë¡ ì„¤ì • */
            padding: 20px 0; /* ìƒë‹¨ê³¼ í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ */
        }
        .signup-container {
            text-align: center;
            background-color: #fff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 400px;
        }
        .signup-container h1 {
            font-size: 32px;
            color: #002855;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 20px;
            display: flex;
            align-items: center; /* ìˆ˜ì§ ê°€ìš´ë° ì •ë ¬ */
            gap: 10px; /* ìš”ì†Œ ê°„ê²© */
        }

        .form-group {
            position: relative; /* ë²„íŠ¼ê³¼ ì…ë ¥ì°½ ìœ„ì¹˜ ê¸°ì¤€ ì„¤ì • */
            margin-bottom: 20px;
        }

        .form-group input {
            width: 400px; /* ì…ë ¥ì°½ ë„ˆë¹„ë¥¼ ë¶€ëª¨ ìš”ì†Œì— ë§ì¶¤ */
            height: 44px; /* ë™ì¼í•œ ë†’ì´ */
            border: 1px solid #002855;
            border-radius: 4px;
            font-size: 16px;
            padding: 0 10px; /* í…ìŠ¤íŠ¸ì™€ í…Œë‘ë¦¬ ê°„ ì—¬ë°± */
            box-sizing: border-box;
        }

        .check-uid-btn {
            position: absolute; /* ì…ë ¥ì°½ ìœ„ì— ê²¹ì³ì§€ë„ë¡ ì„¤ì • */
            top: 0; /* ì…ë ¥ì°½ì˜ ìƒë‹¨ì— ìœ„ì¹˜ */
            right: 0px; /* ì˜¤ë¥¸ìª½ì—ì„œ 10px ê°„ê²© */
            height: 44px; /* ì…ë ¥ì°½ ë†’ì´ì™€ ë™ì¼ */
            font-size: 14px; /* ë²„íŠ¼ í…ìŠ¤íŠ¸ í¬ê¸° */
            border: 1px solid #002855;
            border-radius: 4px;
            background-color: #002855;
            color: white;
            padding: 0 15px;
            cursor: pointer;
            box-sizing: border-box;
        }

        .check-uid-btn:hover {
            background-color: #003c7d; /* í˜¸ë²„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
        }



        .signup-btn-main {
            height: 44px; /* ì…ë ¥ì°½ê³¼ ë™ì¼í•œ ë†’ì´ ì„¤ì • */
            font-size: 16px; /* í…ìŠ¤íŠ¸ í¬ê¸° í†µì¼ */
            border-radius: 4px; /* ë™ì¼í•œ ëª¨ì„œë¦¬ ê³¡ë¥  */
            border: 1px solid #ccc; /* ì…ë ¥ì°½ê³¼ ê°™ì€ í…Œë‘ë¦¬ */
            background-color: #002855;
            color: #fff;
            cursor: pointer;
            box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ í¬ê¸° ê³„ì‚° */
        }



        .signup-btn-main:hover {
            background-color: #003c7d;
        }

        button[type="submit"] {
            width: 100%; /* ë²„íŠ¼ ë„ˆë¹„ë¥¼ ì…ë ¥ì°½ê³¼ ë™ì¼í•˜ê²Œ */
            font-size: 16px;
            border-radius: 4px;
            background-color: #002855;
            color: white;
            cursor: pointer;
            margin-top: 20px; /* ìœ„ìª½ ì—¬ë°± ì¶”ê°€ */
            box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ í¬ê¸° ê³„ì‚° */
        }

        button[type="submit"]:hover {
            background-color: #003c7d;
        }
        footer {
            background-color: #f4f4f4;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #ddd;
        }

        .footer-links a {
            margin: 0 10px;
            text-decoration: none;
            color: #555;
        }

        /* ê²½ê³  ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
/* ê³µí†µ ìŠ¤íƒ€ì¼ë¡œ ê²½ê³  ë©”ì‹œì§€ í†µì¼ */
.warning-message {
    font-size: 14px;
    color: red;
    margin-top: 5px; /* ìœ„ìª½ ì—¬ë°± */
    margin-bottom: 20px;
    text-align: center; /* ì™¼ìª½ ì •ë ¬ */
    display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
}

.warning-message.success {
    color: green; /* ì„±ê³µ ë©”ì‹œì§€ ìƒ‰ìƒ */
}


    </style>
</head>
<body>
<header>
    <div class="logo"><img src="/image/logo.jpg" alt="Fiction2Toon ë¡œê³ " style="height: 50px;"></div>
</header>

<main>
    <div class="signup-container">
        <h1>íšŒì›ê°€ì…</h1>
        <form th:action="@{/signup}" method="post" th:id="'signup-form'">
            <div class="form-group">
                <input type="text" name="name" placeholder="ì´ë¦„" required>
            </div>
            <div class="form-group" style="display: flex; flex-direction: column; gap: 5px;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="text" id="uid" name="uid" placeholder="ì•„ì´ë””" required style="flex: 1;">
                    <button type="button" id="check-uid-btn" class="check-uid-btn">ì¤‘ë³µ í™•ì¸</button>
                </div>
                <p id="uid-check-message" style="display: none; font-size: 14px; color: red; margin: 10px 0 0;">ì‚¬ìš© ê°€ëŠ¥í•œ IDì…ë‹ˆë‹¤.</p>
            </div>

            <div class="form-group" style="position: relative;">
                <input type="password" id="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
                <span id="toggle-password" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;">
        ğŸ‘ï¸
    </span>
            </div>
            <p id="password-check-message" class="warning-message">
                ë¹„ë°€ë²ˆí˜¸ëŠ” ì˜ì–´ì™€ ìˆ«ìë¥¼ í¬í•¨í•œ 10ìë¦¬ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.
            </p>
            <div class="form-group" style="position: relative;">
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" required>
                <span id="toggle-confirm-password" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;">
        ğŸ‘ï¸
    </span>
            </div>
                <p id="password-match-message" class="warning-message"></p>

            <div class="form-group">
                <input type="text" name="phone" placeholder="íœ´ëŒ€í° ë²ˆí˜¸" required>
            </div>
            <div class="form-group">
                <input type="text" name="companyCode" placeholder="íšŒì‚¬ ì½”ë“œ" required>
            </div>
            <div class="form-group">
                <input type="text" name="position" placeholder="ì§ì±…" required>
            </div>
            <button type="submit" class="signup-btn-main">ê°€ì…</button> <!-- ê°€ì… ë²„íŠ¼ -->
        </form>

    </div>
</main>

<footer>
    <div class="footer-links">
        <a th:href="@{/login}">Home</a>
        <a href="/about">About</a>
        <a href="/contact">Contact</a>
    </div>
    <p>&copy; 2025 hooncompany</p>
</footer>

</body>
</html>
<script>
    document.getElementById('check-uid-btn').addEventListener('click', function () {
        const uid = document.getElementById('uid').value;

        if (!uid) {
            alert("IDë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            return;
        }

        fetch(`/check-uid?uid=${uid}`)
            .then(response => response.json())
            .then(data => {
                const messageElement = document.getElementById('uid-check-message');
                if (data.available) {
                    messageElement.style.color = "green";
                    messageElement.textContent = "ì‚¬ìš© ê°€ëŠ¥í•œ IDì…ë‹ˆë‹¤.";
                } else {
                    messageElement.style.color = "red";
                    messageElement.textContent = "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ IDì…ë‹ˆë‹¤.";
                }
                messageElement.style.display = "block";
            })
            .catch(error => {
                console.error("Error:", error);
            });
    });

    // Toggle visibility for the password field
    document.getElementById('toggle-password').addEventListener('click', function () {
        const passwordField = document.getElementById('password');
        if (passwordField.type === 'password') {
            passwordField.type = 'text'; // Show password
            this.textContent = 'ğŸ™ˆ'; // Change icon
        } else {
            passwordField.type = 'password'; // Hide password
            this.textContent = 'ğŸ‘ï¸'; // Change icon
        }
    });

    // Toggle visibility for the confirm password field
    document.getElementById('toggle-confirm-password').addEventListener('click', function () {
        const confirmPasswordField = document.getElementById('confirmPassword');
        if (confirmPasswordField.type === 'password') {
            confirmPasswordField.type = 'text'; // Show password
            this.textContent = 'ğŸ™ˆ'; // Change icon
        } else {
            confirmPasswordField.type = 'password'; // Hide password
            this.textContent = 'ğŸ‘ï¸'; // Change icon
        }
    });

    const passwordField = document.getElementById('password');
const confirmPasswordField = document.getElementById('confirmPassword');
const matchMessage = document.getElementById('password-match-message');

function checkPasswordsMatch() {
    if (confirmPasswordField.value === '') {
        matchMessage.style.display = 'none'; // ë©”ì‹œì§€ë¥¼ ìˆ¨ê¹€
    } else if (passwordField.value === confirmPasswordField.value) {
        matchMessage.textContent = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•©ë‹ˆë‹¤.";
        matchMessage.style.color = "green";
        matchMessage.style.display = "block";
    } else {
        matchMessage.textContent = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
        matchMessage.style.color = "red";
        matchMessage.style.display = "block";
    }
}

document.getElementById('password').addEventListener('input', function () {
    const password = this.value;
    const messageElement = document.getElementById('password-check-message');

    // ì •ê·œì‹: ì˜ì–´ + ìˆ«ì ì¡°í•©, 10ìë¦¬ ì´ìƒ
    const passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;

    if (!passwordPattern.test(password)) {
        messageElement.style.color = "red";
        messageElement.textContent = "ë¹„ë°€ë²ˆí˜¸ëŠ” ì˜ì–´ì™€ ìˆ«ìë¥¼ í¬í•¨í•œ 8ìë¦¬ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.";
        messageElement.style.display = "block";
    } else {
        messageElement.style.color = "green";
        messageElement.textContent = "ì‚¬ìš© ê°€ëŠ¥í•œ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.";
        messageElement.style.display = "block";
    }
});


passwordField.addEventListener('input', checkPasswordsMatch);
confirmPasswordField.addEventListener('input', checkPasswordsMatch);

</script>